/* RESET & BASE */
* {
    box-sizing: border-box; /* Penting agar padding tidak merusak ukuran */
    -webkit-tap-highlight-color: transparent;
}

body {
    background-image: radial-gradient(#db2777 0.5px, transparent 0.5px);
    background-size: 20px 20px;
    background-color: #fdf2f8;
}

/* 3D LOGIC */
.perspective-container {
    perspective: 1500px;
}

.transform-style-3d {
    transform-style: preserve-3d;
}

/* BUKU */
#book {
    /* Shadow realistis di bawah buku */
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

/* LOGIKA POSISI BUKU (SANGAT PENTING UNTUK HP) */
/*
   Saat tertutup: Kita geser buku ke KANAN 50% dari lebarnya.
   Karena titik putar ada di kiri, ini membuat cover pas di tengah layar HP.
*/
.book-close {
    transform: translateX(50%);
}

/*
   Saat terbuka: Kita kembalikan ke 0 (tengah layar).
   Karena lebarnya 45vw + 45vw = 90vw, maka buku akan pas di tengah layar HP
   dengan sisa margin 5% kiri dan 5% kanan.
*/
.book-open {
    transform: translateX(0%);
}

/* KERTAS */
.paper {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    transform-origin: left center; /* Engsel Kiri */
    transition: transform 1s cubic-bezier(0.645, 0.045, 0.355, 1);
    transform-style: preserve-3d;
}

/* HALAMAN DEPAN & BELAKANG */
.front, .back {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    backface-visibility: hidden;
    background-color: white;
    /* FIX ELEMEN KELUAR: */
    overflow: hidden; 
    border-radius: 4px 10px 10px 4px; /* Rounded cantik */
}

/* Shadow Lipatan Kertas (Biar makin 3D) */
.front::after {
    content: '';
    position: absolute;
    top: 0; bottom: 0; left: 0; width: 15px;
    background: linear-gradient(to right, rgba(0,0,0,0.1), transparent);
    pointer-events: none; /* Biar bisa diklik tembus */
}
.back::after {
    content: '';
    position: absolute;
    top: 0; bottom: 0; right: 0; width: 15px;
    background: linear-gradient(to left, rgba(0,0,0,0.1), transparent);
    pointer-events: none;
}

.front { z-index: 2; }
.back { 
    z-index: 1; 
    transform: rotateY(180deg);
    border-left: 1px solid #eee; /* Garis lipatan halus */
}

.flipped {
    transform: rotateY(-180deg);
}